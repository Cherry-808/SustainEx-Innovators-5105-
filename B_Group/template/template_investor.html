<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ESG Analytics Report for Investors</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            color: #333;
            margin: 0;
            padding: 0;
        }
        .container {
            width: 80%;
            margin: auto;
            padding: 20px;
        }
        h1, h2, h3 {
            color: #0056b3;
        }
        .section {
            margin-bottom: 40px;
        }
        .header, .footer {
            text-align: center;
            padding: 20px;
            background-color: #f5f5f5;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        table, th, td {
            border: 1px solid #ddd;
        }
        th, td {
            padding: 10px;
            text-align: left;
        }
        .score-table th {
            background-color: #f0f0f0;
        }
    </style>
</head>
<body>

<div class="header">
    <h1>ESG Analytics Report for Investors</h1>
    <p><strong>Company Name:</strong> {{ data.company_name }}</p>
    <p><strong>Report Upload Date:</strong> {{ data.upload_date }}</p>
    <p><strong>Analysis Generation Date:</strong> {{ data.generation_date }}</p>
</div>

<div class="container">
    <!-- 1. Background -->
    <div class="section">
        <h2>1. Background</h2>
        <h3>1) Overview of ESG Policies and Regulations</h3>
        <p>
            The global focus on sustainable development has led to the introduction of numerous ESG-related regulations 
            by international bodies and national governments. Key policies such as the Paris Agreement, the EU's Sustainable 
            Finance Disclosure Regulation (SFDR), and domestic initiatives like carbon neutrality targets compel companies 
            to enhance environmental protection, social responsibility, and governance transparency. Our Company is committed 
            to complying with these regulations through comprehensive ESG management, thus aligning with global sustainability goals.
        </p>
        <h3>2) ESG Model Overview</h3>
        <p>
            This report evaluates {{ data.company_name }}'s performance in environmental, social, and governance (ESG) areas 
            using a proprietary scoring system that considers industry standards and regulatory benchmarks.
        </p>
        <h3>3) Trends in ESG Regulations and Corporate Strategies</h3>
        <p>
            ESG regulatory standards are becoming stricter, requiring companies to disclose emissions, manage resources efficiently, 
            and improve supply chain transparency. Companies must adapt to these rising standards by optimizing ESG strategies to meet 
            compliance and enhance their competitive edge.
        </p>
        <h3>4) ESG Performance Benchmarks</h3>
        <p>
            To create a reliable ESG assessment, {{ data.company_name }} has established standardized benchmarks based on industry practices 
            and best practices. This structured approach addresses data consistency, enabling fair comparisons across companies and 
            promoting sustainable growth and transparency.
        </p>
    </div>

   <!-- 2. Report Highlights -->
   <div class="section">
    <h2>2. Report Highlights</h2>
    <h3>1) Sustainability Approach Strategy</h3>
    <p>{{ data.highlights.strategy }}</p>
    
    <h3>2) ESG Scores and Industry Comparison</h3>
    <table class="score-table">
        <thead>
            <tr>
                <th>Dimension</th>
                <th>Score (0-50: Poor, 51-70: Average, 71-100: Good)</th>
                <th>Industry Position</th>
                <th>Performance Summary</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Environmental</td>
                <td>{{ data.scores.environmental }}</td>
                <td>{{ data.scores.industry_position_env }}</td>
                <td>{{ data.scores.environmental_summary }}</td>
            </tr>
            <tr>
                <td>Social</td>
                <td>{{ data.scores.social }}</td>
                <td>{{ data.scores.industry_position_soc }}</td>
                <td>{{ data.scores.social_summary }}</td>
            </tr>
            <tr>
                <td>Governance</td>
                <td>{{ data.scores.governance }}</td>
                <td>{{ data.scores.industry_position_gov }}</td>
                <td>{{ data.scores.governance_summary }}</td>
            </tr>
        </tbody>
    </table>
        
        <h3>3) Detailed Indicator Comparison</h3>
        <p>Key indicators compared to industry standards:</p>
        <table>
            <thead>
                <tr>
                    <th>Indicator</th>
                    <th>Company Value</th>
                    <th>Industry Average</th>
                    <th>Performance Summary</th>
                </tr>
            </thead>
            <tbody>
                {% for indicator in data.highlights.goals %}
                    <tr>
                        <td>{{ indicator.indicator }}</td>
                        <td>{{ indicator.value }}</td>
                        <td>{{ indicator.industry_avg }}</td>
                        <td>{{ indicator.summary }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <h3>4) ESG Score Visualization</h3>
    <h4>ESG Scores by Dimension</h4>
    <img src="data:image/png;base64,{{ data.bar_chart_base64 }}" alt="ESG Bar Chart" />

    <h4>ESG Score Gauge</h4>
    <div>
        <!-- First row with two gauges -->
        <div style="display: flex; justify-content: space-between;">
            <div>
                <h3>Environmental (E) Score</h3>
                <iframe src="gauge_e.html" width="500" height="400"></iframe>
            </div>
            <div>
                <h3>Social (S) Score</h3>
                <iframe src="gauge_s.html" width="500" height="400"></iframe>
            </div>
        </div>

        <!-- Second row with two gauges -->
        <div style="display: flex; justify-content: space-between; margin-top: 20px;">
            <div>
                <h3>Governance (G) Score</h3>
                <iframe src="gauge_g.html" width="500" height="400"></iframe>
            </div>
            <div>
                <h3>Total ESG Score</h3>
                <iframe src="gauge_total.html" width="500" height="400"></iframe>
            </div>
        </div>
    </div>

    <!-- Adding the bar chart here -->
    <h4>ESG Scores by Category</h4>
        <iframe src="bar_chart.html" width="800" height="600"></iframe>
    </div>
    
<div class="container"> 
    <!-- 3. Achievements and Outlook -->
    <div class="section">
        <h2>3. Achievements and Outlook</h2>
        <p>{{ data.achievements_outlook }}</p>
    </div>

    <!-- 4. Summary -->
    <div class="section">
        <h2>4. Summary</h2>
        <p>
            In conclusion, {{ data.company_name }} has demonstrated notable progress in ESG, especially in 
            {{ data.highest_score_area }}, bolstering the companyâ€™s brand value and industry position. 
            However, improvements are needed in {{ data.lowest_score_area }}. It is recommended 
            that {{ data.company_name }} focuses on strengthening this area through targeted cross-departmental collaboration 
            and strategic investments to meet regulatory demands and enhance competitiveness.
        </p>
    </div>
</div>

<div class="footer">
    <p>Generated by SustainEx Innovators | {{ contact_info }}</p>
</div>

</body>
</html>
